@page "/Register"
@inject HttpClient Http
@inject NavigationManager NavigationManager

<PageTitle>Register to our service</PageTitle>

<MudContainer>
    <MudTextField @bind-Value="_request.Name" T="string" InputType="InputType.Text" Label="User name"></MudTextField>
    <MudTextField @bind-Value="_request.Email" T="string" InputType="InputType.Email" Label="E-mail"></MudTextField>
    <MudTextField @bind-Value="_request.Password" T="string" InputType="InputType.Password"
                  Label="Password"></MudTextField>
    <MudButton Variant="Variant.Filled" Color="Color.Success" OnClick="RegisterClicked">Register</MudButton>
</MudContainer>
<MudLink Href="/Login">Already have account? Login then</MudLink>

@if (_showLoginLink)
{
    <MudLink Href="/Login">Go login!!!</MudLink>
}

@code {
    private bool _showLoginLink;
    private readonly RegisterRequest _request = new();

    private async Task RegisterClicked()
    {
        // var response = await Http.PostAsJsonAsync("X", _request);
        // var content = await response.Content.ReadFromJsonAsync<BaseResponse>();

        _showLoginLink = true;
    }

}